<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
"http://www.oasis-open.org/docbook/xml/4.0/docbookx.dtd">
<refentry>
  <refmeta>
    <refentrytitle><application>degrotesque</application></refentrytitle>

    <manvolnum>1</manvolnum>

    <refmiscinfo>degrotesque 1.6</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname><application>degrotesque</application></refname>

    <refpurpose>A tiny web type setter.</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>degrotesque</command>

      <arg><option>( --input | -i )
      <replaceable>&lt;PATH&gt;</replaceable></option></arg>

      <arg><option>( --recursive | -r )</option></arg>

      <arg><option>( --no-backup | -B ) </option></arg>

      <arg><option>( --unicode | -u )</option></arg>

      <arg><option>( --extensions | -e )
      <replaceable>&lt;EXTENSION&gt;[,&lt;EXTENSION&gt;]*</replaceable></option></arg>

      <arg><option>( --encoding | -E )
      <replaceable>&lt;ENCODING&gt;</replaceable></option></arg>

      <arg><option>( --skip | -s )
      <replaceable>&lt;ELEMENT&gt;[,&lt;ELEMENT&gt;]*</replaceable></option></arg>

      <arg><option>( --actions | -a )
      <replaceable>&lt;ACTION&gt;[,&lt;ACTION&gt;]*</replaceable></option></arg>
    </cmdsynopsis>

    <cmdsynopsis>
      <command>degrotesque</command>

      <arg><option>--help</option></arg>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsect1>
    <title>DESCRIPTION</title>

    <para>degrotesque is a small python script that replaces plain ASCII
    characters by their typographic counterparts.</para>
  </refsect1>

  <refsect1>
    <title>OPTIONS</title>

    <variablelist>
      <varlistentry>
        <term>--input <replaceable
        class="parameter">&lt;PATH&gt;</replaceable>, --i <replaceable
        class="parameter">&lt;PATH&gt;</replaceable></term>

        <listitem>
          <para>Defines the files to read; paths are accepted as well.
          <remark>Mandatory, type:file- or pathname, default:
          none</remark></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--recursive, --r</term>

        <listitem>
          <para>Whether a given path shall be processed recursively.
          <remark>Optional, default: false</remark></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--no-backup, -B</term>

        <listitem>
          <para>Whether no backup shall be generated. <remark>Optional (backup
          files are generated if not given), default: false</remark></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--unicode, -u</term>

        <listitem>
          <para>If set, unicode characters will be used in replacement instead
          of HTML entitites. <remark>Optional, default: false</remark></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--extensions <replaceable
        class="parameter">&lt;EXTENSION&gt;[,&lt;EXTENSION&gt;]*</replaceable>,
        -e <replaceable
        class="parameter">&lt;EXTENSION&gt;[,&lt;EXTENSION&gt;]*</replaceable></term>

        <listitem>
          <para>Defines the extensions of files to process. <remark>Optional,
          default: html, htm, xhtml, php, phtml, phtm, php2, php3, php4, php5,
          asp, jsp, jspx, shtml, shtm, sht, stm, vbhtml, ppthtml, ssp,
          jhtml</remark></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--encoding <replaceable
        class="parameter">&lt;ENCODING&gt;</replaceable>, -E <replaceable
        class="parameter">&lt;ENCODING&gt;</replaceable></term>

        <listitem>
          <para>Defines the document encoding to use when reading.
          <remark>Optional, default: utf-8</remark></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--skip <replaceable
        class="parameter">&lt;ELEMENT&gt;[,&lt;ELEMENT&gt;]*</replaceable>, -s
        <replaceable
        class="parameter">&lt;ELEMENT&gt;[,&lt;ELEMENT&gt;]*</replaceable></term>

        <listitem>
          <para>Defines the elements to skipt. <remark>Optional, default:
          script, code, style, pre, ?, ?php, %, %=, %@, %--, %!, !--,
          !DOCTYPE</remark></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--actions <replaceable
        class="parameter">&lt;ACTION&gt;[,&lt;ACTION&gt;]*</replaceable>, --a
        <replaceable
        class="parameter">&lt;ACTION&gt;[,&lt;ACTION&gt;]*</replaceable></term>

        <listitem>
          <para>Defines the actions to perform. <remark>Optional, default:
          masks, quotes.english, dashes, ellipsis, math,
          apostrophe</remark></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>--help</term>

        <listitem>
          <para>Prints the help screen. <remark>Optional, default:
          false</remark></para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <refsect1>
    <title>USAGE</title>

    <para>degrotesque is implemented in <ulink
    url="https://www.python.org/">Python</ulink>. It is started on the command
    line.</para>

    <para>The option <option>-i
    <replaceable>&lt;PATH&gt;</replaceable></option> / <option>--input
    <replaceable>&lt;PATH&gt;</replaceable></option> tells the script which
    file(s) shall be read - you may name a file or a folder, here. If the
    option <option>-r</option> / <option>--recursive</option> is set, the
    given folder will be processed recursively.</para>

    <para>The tool processes HTML files, XML files, and their derivatives. You
    may change the extensions of files to process using the <option>-e
    <replaceable>&lt;EXTENSION&gt;[,&lt;EXTENSION&gt;]*</replaceable></option>
    / <option>--extensions
    <replaceable>&lt;EXTENSION&gt;[,&lt;EXTENSION&gt;]*</replaceable></option>
    option.</para>

    <para>The files are read one by one and the replacement of plain ASCII
    chars by some nicer ones is based upon a chosen set of
    &amp;ldquo;actions&amp;rdquo;. You may select the actions to apply using
    the <option>-a
    <replaceable>&lt;ACTION_NAME&gt;[,&lt;ACTION_NAME&gt;]*</replaceable></option>
    / <option>--actions
    <replaceable>&lt;ACTION_NAME&gt;[,&lt;ACTION_NAME&gt;]*</replaceable></option>
    option. The default actions are masks, quotes.english, dashes, ellipsis,
    math, and apostrophe. Per default, HTML entities are inserted. If you
    rather wish to have unicode values, use the option <option>-u</option> /
    <option>--unicode</option>.</para>

    <para>The files are assumed to be encoded using UTF-8 per default. You may
    change the encoding using the option <option>-E
    <replaceable>&lt;ENCODING&gt;</replaceable></option> / <option>--encoding
    <replaceable>&lt;ENCODING&gt;</replaceable></option>.</para>

    <para>The script does not change the quotation marks of HTML elements, of
    course. As well, the contents of several elements, such as &lt;code&gt; or
    &lt;pre&gt;, are skipped. You may change the list of elements which
    contents shall not be processed using the option <option>-s
    &lt;ELEMENT_NAME&gt;[,&lt;ELEMENT_NAME&gt;]*</option> / <option>--skip
    &lt;ELEMENT_NAME&gt;[,&lt;ELEMENT_NAME&gt;]*</option>.</para>

    <para>After the actions have been applied to its contents, the file is
    saved. By default, a backup of the original file is saved under the same
    name, with the appendix ".orig". You may omit the creation of these backup
    files using the option <option>-B</option> /
    <option>--no-backup</option>.</para>

    <para>Please note that "masks" is a special action set that disallows the
    application of some other actions so that, e.g., the dividers in ISBN
    numbers are not replaced by &amp;ndash;.</para>

    <refsect2>
      <title>Known Actions</title>

      <para>The actions that can be applied are:</para>

      <itemizedlist>
        <listitem>
          <para>quotes.english</para>
        </listitem>

        <listitem>
          <para>quotes.french</para>
        </listitem>

        <listitem>
          <para>quotes.german</para>
        </listitem>

        <listitem>
          <para>to_quotes</para>
        </listitem>

        <listitem>
          <para>commercial</para>
        </listitem>

        <listitem>
          <para>dashes</para>
        </listitem>

        <listitem>
          <para>bullets</para>
        </listitem>

        <listitem>
          <para>ellipsis</para>
        </listitem>

        <listitem>
          <para>apostrophe</para>
        </listitem>

        <listitem>
          <para>math</para>
        </listitem>

        <listitem>
          <para>dagger</para>
        </listitem>
      </itemizedlist>

      <para>Please consult the online documentation (<ulink
      url="http://www.krajzewicz.de/blog/degrotesque.php">http://www.krajzewicz.de/blog/degrotesque.php</ulink>
      or <ulink
      url="https://github.com/dkrajzew/degrotesque">https://github.com/dkrajzew/degrotesque</ulink>)
      for further information about the actions.</para>
    </refsect2>
  </refsect1>

  <refsect1>
    <title>EXAMPLES</title>

    <para><command>degrotesque -i my_page.html -a
    quotes.german</command></para>

    <para>Replaces single and double quotes within the file "my_page.html" by
    their typographic German counterparts.</para>

    <para><command>degrotesque -i my_folder -r --no-backup</command></para>

    <para>Applies the default actions to all files that match the extension in
    the folder "my_folder" and all subfolders. No backup files are
    generated.</para>
  </refsect1>

  <refsect1>
    <title>CAVEATS</title>

    <para>You may combine php- and html-code in a way that the parser replaces
    wrong elements - especially quotes. The tool also fails if you embed
    HTML-elements within other HTML-elements.</para>

    <para>You should thereby verify the results.</para>
  </refsect1>

  <refsect1>
    <title>DIAGNOSTICS</title>

    <para>degrotesque reports errors if something fails.</para>
  </refsect1>

  <refsect1>
    <title>BUGS</title>

    <para>Nothing is known besides the named caveats, yet. Please report bugs
    to daniel@krajzewicz.de.</para>
  </refsect1>

  <refsect1>
    <title>SEE ALSO</title>

    <para>Internet pages at <ulink
    url="http://www.krajzewicz.de/blog/degrotesque.php">http://www.krajzewicz.de/blog/degrotesque.php</ulink></para>

    <para>git project at <ulink
    url="https://github.com/dkrajzew/degrotesque">https://github.com/dkrajzew/degrotesque</ulink></para>
  </refsect1>

  <refsect1>
    <title>COPYRIGHT</title>

    <para>(c) 2020-2022 Daniel Krajzewicz</para>

    <para><ulink
    url="http://www.krajzewicz.de/blog/degrotesque.php">http://www.krajzewicz.de/blog/degrotesque.php</ulink></para>
  </refsect1>
</refentry>